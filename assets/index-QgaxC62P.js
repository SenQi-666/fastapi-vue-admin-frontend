import{P as V}from"./PageHeader-2LC38_J2.js";import{a as I,r as k,m as j,u as K,T as S,_ as U,o as u,c as f,b as e,e as N,w as a,F as H,f as o,g as c,t as g,j as _,l as T}from"./index-eT2Bus_L.js";const P={name:"User",components:{PageHeader:V},setup(){const C=[{title:"序号",dataIndex:"index",align:"center",width:80},{title:"用户名",dataIndex:"username",align:"center"},{title:"姓名",dataIndex:"name",align:"center"},{title:"部门",dataIndex:"dept_id",align:"center"},{title:"角色",dataIndex:"roles",align:"center"},{title:"岗位",dataIndex:"positions",align:"center"},{title:"邮箱",dataIndex:"email",align:"center"},{title:"联系电话",dataIndex:"mobile",align:"center"},{title:"性别",dataIndex:"gender",align:"center"},{title:"状态",dataIndex:"available",align:"center"},{title:"备注",dataIndex:"description",align:"center"},{title:"操作",dataIndex:"operation",align:"center",fixed:"right",width:100}],d=I([{created_at:"2024-01-12 09:09:03",updated_at:"2024-01-30 13:13:06",id:1,description:null,creator:{id:2,name:"测试"},username:"senqi",name:"森七",mobile:"17777777777",email:"superadmin@example.com",gender:1,is_superuser:!0,dept_id:1,roles:[{id:1,name:"管理员",order:1,available:!0},{id:1,name:"开发",order:2,available:!0}],positions:[{id:5,name:"开发岗",order:5,available:!0}],available:!0},{created_at:"2024-01-12 13:27:53",updated_at:"2024-01-17 16:07:59",id:2,description:null,creator:null,username:"test",name:"测试",mobile:"17777777777",email:"test@example.com",gender:2,is_superuser:!1,dept_id:3,roles:[],positions:[],available:!0}]);for(var x=100;x>2;x--)d.push({created_at:"2024-01-12 13:27:53",updated_at:"2024-01-17 16:07:59",id:x,description:null,creator:null,username:"test",name:"测试",mobile:"17777777777",email:"test@example.com",gender:2,is_superuser:!1,dept_id:3,roles:[],positions:[],available:!0});const t=k(!1),s=I({username:"",name:"",available:"true"}),F=l=>{console.log("Received values of form: ",l),console.log("formState: ",s)},v=()=>{Object.keys(s).forEach(l=>{delete s[l]}),s.available="true",console.log(s)},b=I({defaultPageSize:10,total:d.length,showTotal:(l,r)=>`第 ${r[0]}-${r[1]} 条 / 总共 ${l} 条`}),p=l=>{console.log(l)},i=k([]),h=(l,r)=>{console.log(`selectingRowKeys: ${l}`,"selectingRows: ",r),i.value=l},y=j(()=>({selectedRowKeys:K(i),onChange:h,hideDefaultSelections:!0,selections:[S.SELECTION_ALL,S.SELECTION_INVERT,S.SELECTION_NONE]}));return{columns:C,dataSource:d,formState:s,onFinish:F,expand:t,resetFields:v,pagination:b,handleTableChange:p,rowSelection:y}}},q={class:"table-search-wrapper"},z={class:"table-wrapper"},A={key:0},G={key:1},J={key:2},M={key:4};function Q(C,d,x,t,s,F){const v=o("page-header"),b=o("a-input"),p=o("a-form-item"),i=o("a-col"),h=o("a-select-option"),y=o("a-select"),l=o("a-row"),r=o("a-button"),B=o("a-form"),E=o("a-card"),D=o("a-tag"),L=o("a-badge"),O=o("a-table");return u(),f(H,null,[e(v),N("div",q,[e(E,{bordered:!1},{default:a(()=>[e(B,{model:t.formState,onFinish:t.onFinish},{default:a(()=>[e(l,null,{default:a(()=>[e(i,{flex:"0 1 500px"},{default:a(()=>[e(p,{name:"username",label:"用户名",style:{"max-width":"300px"}},{default:a(()=>[e(b,{value:t.formState.username,"onUpdate:value":d[0]||(d[0]=n=>t.formState.username=n),placeholder:"请输入用户名",allowClear:""},null,8,["value"])]),_:1})]),_:1}),e(i,{flex:"0 1 500px"},{default:a(()=>[e(p,{name:"name",label:"姓名",style:{"max-width":"300px"}},{default:a(()=>[e(b,{value:t.formState.name,"onUpdate:value":d[1]||(d[1]=n=>t.formState.name=n),placeholder:"请输入姓名",allowClear:""},null,8,["value"])]),_:1})]),_:1}),e(i,{flex:"0 1 500px"},{default:a(()=>[e(p,{name:"available",label:"状态",style:{"max-width":"300px"}},{default:a(()=>[e(y,{value:t.formState.available,"onUpdate:value":d[2]||(d[2]=n=>t.formState.available=n),placeholder:"全部",allowClear:""},{default:a(()=>[e(h,{value:"true"},{default:a(()=>[c("启用")]),_:1}),e(h,{value:"false"},{default:a(()=>[c("停用")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(i,null,{default:a(()=>[e(r,{type:"primary","html-type":"submit"},{default:a(()=>[c("查询")]),_:1}),e(r,{style:{margin:"0 8px"},onClick:t.resetFields},{default:a(()=>[c("重置")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model","onFinish"])]),_:1})]),N("div",z,[e(E,{title:"用户列表",bordered:!1,headStyle:{borderBottom:"none",padding:"20px 24px"},bodyStyle:{padding:"0 24px",minHeight:"calc(100vh - 400px)"}},{default:a(()=>[e(O,{rowKey:n=>n.id,columns:t.columns,"data-source":t.dataSource,"row-selection":t.rowSelection,onChange:t.handleTableChange,scroll:{x:500,y:"calc(100vh - 500px)"},pagination:t.pagination,style:{minHeight:"500px"}},{bodyCell:a(({column:n,record:m,index:R})=>[n.dataIndex==="index"?(u(),f("span",A,g(R+1),1)):_("",!0),n.dataIndex==="roles"?(u(),f("span",G,g(m.roles.map(w=>w.name).join("，")),1)):_("",!0),n.dataIndex==="positions"?(u(),f("span",J,g(m.positions.map(w=>w.name).join("，")),1)):_("",!0),n.dataIndex==="gender"?(u(),T(D,{key:3,color:m.gender===1?"blue":"pink"},{default:a(()=>[c(g(m.gender===1?"男":"女"),1)]),_:2},1032,["color"])):_("",!0),n.dataIndex==="available"?(u(),f("span",M,[e(L,{color:m.available?"green":"red"},null,8,["color"]),c(" "+g(m.available?"启用":"禁用"),1)])):_("",!0),n.dataIndex==="operation"?(u(),T(r,{key:5,type:"link"},{default:a(()=>[c("修改")]),_:1})):_("",!0)]),_:1},8,["rowKey","columns","data-source","row-selection","onChange","scroll","pagination"])]),_:1},8,["bodyStyle"])])],64)}const Y=U(P,[["render",Q],["__scopeId","data-v-42995d17"]]);export{Y as default};
