import{P as R}from"./PageHeader-2LC38_J2.js";import{l as V}from"./util-Wsxkwb2i.js";import{r as x,a as H,m as K,_ as j,o as s,c as h,b as e,e as I,w as a,F as P,f as n,g as d,l as w,t as F,j as p}from"./index-eT2Bus_L.js";const U={name:"Menu",components:{PageHeader:R},setup(){const C=[{title:"菜单名称",dataIndex:"name"},{title:"图标",dataIndex:"icon",align:"center"},{title:"显示排序",dataIndex:"order",align:"center"},{title:"菜单类型",dataIndex:"type",align:"center"},{title:"权限标识",dataIndex:"permission",align:"center"},{title:"状态",dataIndex:"available",align:"center"},{title:"备注",dataIndex:"description",align:"center"},{title:"操作",dataIndex:"operation",align:"center",fixed:"right",width:100}],r=[{created_at:"2024-02-18 17:40:18",updated_at:"2024-02-18 17:40:20",id:1,description:null,creator:{id:1,name:"森七"},name:"仪表盘",type:1,icon:"",order:1,permission:"",parent_id:null,available:!0},{created_at:"2024-02-18 17:41:30",updated_at:"2024-02-18 17:41:32",id:2,description:null,creator:{id:1,name:"森七"},name:"工作台",type:2,icon:"",order:1,permission:"",parent_id:1,available:!0},{created_at:"2024-01-10 15:17:48",updated_at:"2024-01-10 15:17:48",id:4,description:null,creator:{id:1,name:"森七"},name:"菜单管理",type:2,icon:"",order:1,permission:"",parent_id:3,available:!0},{created_at:"2024-01-10 15:17:48",updated_at:"2024-01-10 15:17:48",id:3,description:null,creator:{id:1,name:"森七"},name:"系统管理",type:1,icon:"",order:2,permission:"",parent_id:null,available:!0},{created_at:"2024-01-17 17:52:42",updated_at:"2024-01-17 17:52:44",id:5,description:null,creator:{id:1,name:"森七"},name:"部门管理",type:2,icon:"",order:2,permission:"",parent_id:3,available:!0},{created_at:"2024-01-17 17:54:17",updated_at:"2024-01-17 17:54:20",id:6,description:null,creator:{id:1,name:"森七"},name:"岗位管理",type:2,icon:"",order:3,permission:"",parent_id:3,available:!0},{created_at:"2024-01-17 17:54:51",updated_at:"2024-01-17 17:54:53",id:7,description:null,creator:{id:1,name:"森七"},name:"角色管理",type:2,icon:"",order:4,permission:"",parent_id:3,available:!0},{created_at:"2024-01-17 17:54:51",updated_at:"2024-01-17 17:54:53",id:8,description:null,creator:{id:1,name:"森七"},name:"用户管理",type:2,icon:"",order:5,permission:"",parent_id:3,available:!0},{created_at:"2024-01-17 17:54:51",updated_at:"2024-01-17 17:54:53",id:9,description:null,creator:{id:1,name:"森七"},name:"操作日志",type:2,icon:"",order:6,permission:"",parent_id:3,available:!0}],y=x([]);y.value=V(r);const t=x(!1),i=H({name:"",available:"true"}),S=o=>{console.log("Received values of form: ",o),console.log("formState: ",i)},b=()=>{Object.keys(i).forEach(o=>{delete i[o]}),i.available="true",console.log(i)},g=o=>{console.log(o)},_=x([]),u=(o,f)=>{console.log(`selectingRowKeys: ${o}`,"selectingRows: ",f),_.value=o},m=K(()=>({checkStrictly:!1,onChange:u}));return{columns:C,dataSource:r,menuTreeData:y,formState:i,onFinish:S,expand:t,resetFields:b,handleTableChange:g,rowSelection:m}}},A={class:"table-search-wrapper"},M={class:"table-wrapper"},O={key:0},q={key:2};function z(C,r,y,t,i,S){const b=n("page-header"),g=n("a-input"),_=n("a-form-item"),u=n("a-col"),m=n("a-select-option"),o=n("a-select"),f=n("a-row"),v=n("a-button"),E=n("a-form"),k=n("a-card"),D=n("a-tag"),B=n("a-badge"),T=n("a-table");return s(),h(P,null,[e(b),I("div",A,[e(k,{bordered:!1},{default:a(()=>[e(E,{model:t.formState,onFinish:t.onFinish},{default:a(()=>[e(f,null,{default:a(()=>[e(u,{flex:"0 1 400px"},{default:a(()=>[e(_,{name:"name",label:"名称",style:{"max-width":"300px"}},{default:a(()=>[e(g,{value:t.formState.name,"onUpdate:value":r[0]||(r[0]=l=>t.formState.name=l),placeholder:"请输入名称",allowClear:""},null,8,["value"])]),_:1})]),_:1}),e(u,{flex:"0 1 400px"},{default:a(()=>[e(_,{name:"available",label:"状态",style:{"max-width":"300px"}},{default:a(()=>[e(o,{value:t.formState.available,"onUpdate:value":r[1]||(r[1]=l=>t.formState.available=l),placeholder:"全部",allowClear:""},{default:a(()=>[e(m,{value:"true"},{default:a(()=>[d("启用")]),_:1}),e(m,{value:"false"},{default:a(()=>[d("停用")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(f,null,{default:a(()=>[e(u,null,{default:a(()=>[e(v,{type:"primary","html-type":"submit"},{default:a(()=>[d("查询")]),_:1}),e(v,{style:{margin:"0 8px"},onClick:t.resetFields},{default:a(()=>[d("重置")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model","onFinish"])]),_:1})]),I("div",M,[e(k,{title:"菜单列表",bordered:!1,headStyle:{borderBottom:"none",padding:"20px 24px"},bodyStyle:{padding:"0 24px",minHeight:"calc(100vh - 400px)"}},{default:a(()=>[t.menuTreeData&&t.menuTreeData.length?(s(),w(T,{key:0,rowKey:l=>l.id,columns:t.columns,"data-source":t.menuTreeData,"row-selection":t.rowSelection,onChange:t.handleTableChange,scroll:{x:500,y:"calc(100vh - 500px)"},pagination:!1,defaultExpandAllRows:!0,style:{minHeight:"500px"}},{bodyCell:a(({column:l,record:c,index:N})=>[l.dataIndex==="index"?(s(),h("span",O,F(N+1),1)):p("",!0),l.dataIndex==="type"?(s(),w(D,{key:1,color:c.type===1?"blue":c.type===2?"green":"orange"},{default:a(()=>[d(F(c.type===1?"目录":c.type===2?"功能":"权限"),1)]),_:2},1032,["color"])):p("",!0),l.dataIndex==="available"?(s(),h("span",q,[e(B,{color:c.available?"green":"red"},null,8,["color"]),d(" "+F(c.available?"启用":"禁用"),1)])):p("",!0),l.dataIndex==="operation"?(s(),w(v,{key:3,type:"link"},{default:a(()=>[d("修改")]),_:1})):p("",!0)]),_:1},8,["rowKey","columns","data-source","row-selection","onChange","scroll"])):p("",!0)]),_:1},8,["bodyStyle"])])],64)}const Q=j(U,[["render",z],["__scopeId","data-v-f59c5109"]]);export{Q as default};
